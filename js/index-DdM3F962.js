import{c as s,r as e,u as a,a as i,j as t,S as r,M as l,$ as c}from"./index-BAP-5rGd.js";import{F as n}from"./index-Ccfrv67I.js";import{I as d}from"./image-DM3iwibu.js";import{S as o}from"./index-CArCXmrT.js";import{i as m}from"./img_bg_01-l5NtG1c8.js";import{i as h}from"./icon_calendar-7fqQlRBC.js";import{i as p,a as A}from"./icon_refresh-9vnDdaeD.js";import{i as g}from"./icon_tgt-CrhvpaUb.js";import{$ as j}from"./useCustomNavigate-QDEnmjO1.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-DwJv6-ZC.js";import"./index-BvzqMizP.js";import"./logo-2z5xhOvM.js";const x="_plr16_pgh63_1",u="_invite_pgh63_4",N="_invite_info_pgh63_10",_="_coin_icon_pgh63_28",v="_item_pgh63_42",w="_share_btn_pgh63_52",f="_title_pgh63_72",k="_row_pgh63_65",y="_column_pgh63_94",I="_item_title_pgh63_105",B="_header_titile_pgh63_110",C="_item_bonus_pgh63_113",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABS9JREFUWEe1l21sU2UUx//PvbcbW9t1L22HhLmyjc0xA4HwohIcTCSQyItgCKIgX8YHl0D8YHQSFwQUZQFEzRICgvEDYAiIg2BQNyYhERRRcBMnY2Whe2lX2q3b+nrvc8wtljC2vgy2k/RD85z7nN85z7n/81yGGLZ2Z1uexNgaxoQyTlTCuWAkkASK/hCByWDcyQhNTGB1BOWbI5W5rdGeYMMtrKu+PUlg7BNOwspgiERfkBCQCbJCIEL4F8vUTZkASAJDssQUUaKTEvDO8fct1oefGwLw+u7W9YyJNf4QtP0+Dm+QhwNzHjtotFVBBREZxmnQrxHlijNVRV8/6DsI4LXdzZUkJX/Y7yPW61MQDN3LeDSMMSBJBGlE+b2fthZ/HNnzPsCrexrfgCb1sMdHrMerQJZHKfJD9JJAlESBDee3TwtXIgywcuevecl6w/W+kKh198sIKWMTPMIiQe6XZO/UCzvmWMMAqz/747gs6l7p7pPhD41t8HsQBDHUf/zStjmr2YpddfkavbnZHZRE9dxH68zj9o3iV6jXUcSWV/+8BWmmHY4BjuAYnftwMEQKeI9jC1u2p6HerzUucHkV8MesfmqSgGctOpQW6KARGSpPt0ctBBGB99jr2dK9dXZPqsnsCTziiw5ginkcSvP1mJmjRZIohINaXX5UneuIIZkExd1pZ0v2npN7tdmiNzQygMwUCfMsepROSoNZpxkS6PDvDtTd8sRoBQJ3tits0affU68+G345PoAoMMwYr8N8SxqmZqdCUNVlGAsqHBVnWxEzKSIo3e1gL+47Sz0Gc1jro9kTuiSU5RowLycNaclS3Aa/eMeDmqudcfwIil0F+OIMuVWAGOJzcFEhtBoxbuCIw/ZLbfj7rjcBgA6whTWnyZ0eG2B2th7L84zIN6TEhbB7g9h8oSWunypGSlcH2Av7a8mdYYpZgchuhempWJyTiTkmQ3jUDmfHbtnxrbU7IQDeqQIc+I5cmSYERiACmckarM8fj+fM6YMCcSK8eekfuAJyfABVB1SAskOnyJ1lhH+EA0iFqJlVDPGBN+Gqy4OdTUPuHFFgCLyjE2zBoRPkNpvhf4Qbx1uTLZhrzLgfoLrZisuunvjZh+cRgds6wJ4/cFTpmThBGMkRRCIU6bT4aEpR+G9vKISNfzZCTnSaqQDWNoXN/fygo68wz+RPjHuI166iYhRotah1dOErmy3xXRQFvPHfbjZ7++4G/8ySUp9mqJwmstszhgxU5Fjw7s0baA8kmgaB/AHQ5esNbPrmyio+d/oHA6Z0IIq0JgIyIh8iUKcTuHi1ik0rryikPMsN7+wpAiXFl9kRBYrmHAyBfvmLB1tuPxVWk5LyTafkshnLQ0+aAfUePZamvm1tXUDdlVOtX9a8HAYoXrthMjcbr4UWzUihLAMQReUem0sVO2cv6IcrPtnWNc124sjN+3pauGpduVIwYb+yYCqDMW30K6Fm7vQA9deItdzZaD159KCa0CBBL1ixdquSa6ri859mmJgFqD3xuI2p6kJQBmxOsIZGgtWx7Xbtsa2Rag6ZKPlLVpVzg3Yfn5WfQiU5QJYeUO8AKkiiMJEPSHUm3O0Da7oD9luLj7kHNlnPnQxnHhVAXch7adVkCvJqytAupYJsgXKNoEwd1A+8uE2qltofBHMNgLU5wVrsHO7+0zKJb9t+PHHz4T4afqb+7zVp8bIi8sprmCSVkUYsgShkgEgYfHAPbKleqhjjULibhZQmCsr1TCMds56vbY7WwP8B7YZGV4eyEEoAAAAASUVORK5CYII=",{getExploreTasks:Q,exploreUpdateTask:S,checkExploreTask:H}=c("common"),b=s((s=>s.common))((s=>{const{tgUserInfoRaw:c}=s,b=j(),[P,M]=e.useState([]),{t:R}=a(),[E,T]=e.useState([{id:0,title:R("regular_tasks_daily_checkin_title"),amount:"2-100",icon:"calendar",completed:!1}]),Y=async()=>{const[s]=await Q(c);200===(null==s?void 0:s.code)&&M(null==s?void 0:s.data)},z=(s,e)=>1===e?t.jsx(d,{className:_,src:U,width:32,height:32,style:{borderRadius:10}}):s.completed?t.jsx(d,{className:_,src:p,width:32,height:32,style:{borderRadius:10}}):1===s.status?t.jsx(d,{className:_,src:A,width:32,height:32,onClick:e=>{e.stopPropagation(),W(s)},style:{borderRadius:10}}):2===s.status?t.jsx(r,{style:{"--size":"24px","--color":"red"}}):t.jsx(d,{className:_,src:U,width:32,height:32,style:{borderRadius:10}}),W=async s=>{const[e]=await H(c,{taskId:s.id});if(200===(null==e?void 0:e.code)&&2==(null==e?void 0:e.data)){confetti({particleCount:100,spread:70,origin:{y:.6}});const[e]=await S(c,{taskId:s.id});200===(null==e?void 0:e.code)&&Y()}},Z=s=>{switch(null==s?void 0:s.icon){case"calendar":return t.jsx(d,{src:h,width:40,height:40});case"twitter":return t.jsx(d,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7ElEQVR4Ae1XMZLCMAwUdw0ldJQ8ATpKnkBJByUd8ALyA/gBdJTQUtHS8QT4AaRM5ctmThmfogQ75CYNmhGTbGJr45Vk0yAiQzXaF9VsHwIZAofDgYwxqo9GI/K16/X6cqyxvdVqmdvtZh6PhwmCIHXcw7vdrpFj8ny9XhsYxhe8lwWHw2EycLFYpNh0Ok2w8/nsFHy1WrkE1wnAN5tNMkGv10ux3W6XIab5fD5P3ovldCGrP2Ap4LiW8uRJAcIwe1wpArYU0FJimhQgxaQ9cqX4BZYCgSVmS8HBfRP1JQEsY1xKGSmAcTC+l0QrIWDraicVMBBA4O1265ScpQnAMbkMwphjub1HAI7EkxoDK7n0/gQQGATsCmDMo+z++Hf8E5CjPZ9PiqKIZrMZhWFIl8slxcbjMTWbTTqdTuRrXoz5i2WXRIL+WxWw2+Uml13rnJUT4K9E9nMFaF3SxiojoO1u2rJzl4z3/+oIcHBMLiUp2rDe3ozg+BIYtNee87KjGzLGndPx7JD/0K7xog2Gl30ymaSY1jm9CPhsrXnnBK1zOhHgCWWtF7l2TtA6p3S1E+73exoMBrRcLul4PJKL3e93arfbSUeMA1O/36eYPHU6nWQu7pyaqRlfZnezV05anhSN34va7PPXrHYCP+VaTG3LBV1KAAAAAElFTkSuQmCC",width:40,height:40});default:return t.jsx(d,{src:"/img/icon_telegram.DpR4Iy3a.png",width:40,height:40})}},J=()=>{b("/inviteDetail")},D=async(s,e)=>{if(1==s)b("/checkin");else if(1!=e.type){if(l("web_app_open_link",{url:e.value,try_instant_view:!0}),e.completed)return;const[s]=await S(c,{taskId:e.id});200===(null==s?void 0:s.code)&&Y()}else{e.status=1;const s=P.map((s=>s.id===e.id?{...s,...e}:s));M(s),l("web_app_open_tg_link",{path_full:e.value.replace("@","")})}},G=()=>{Y()};return i.useActivate((()=>{G()})),e.useEffect((()=>{G()}),[]),e.useEffect((()=>{Z()}),[P]),t.jsxs("div",{className:"warp",children:[t.jsxs("div",{className:"content",children:[t.jsxs("div",{className:u,children:[t.jsx("div",{className:N,children:t.jsx(d,{className:_,src:m,placeholder:t.jsx(o.Paragraph,{style:{width:"100%"}}),onClick:()=>{J()},style:{borderRadius:10}})}),t.jsx("div",{className:w,onClick:()=>{J()},children:t.jsx("span",{className:B,children:R("regular_tasks_invite_btn")})})]}),t.jsxs("div",{className:x,children:[t.jsxs("div",{children:[t.jsx("span",{className:f,children:R("regular_tasks_daily_title")}),t.jsx("div",{className:"mt-10"}),E.map(((s,e)=>t.jsxs("div",{children:[t.jsxs("div",{className:v,onClick:()=>D(1,s),children:[t.jsxs("div",{className:k,children:[Z(s),t.jsxs("div",{className:y,children:[t.jsx("span",{className:I,children:s.title}),t.jsxs("div",{className:k,children:[t.jsx(d,{src:g,placeholder:t.jsx(o.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:C,children:s.amount})]})]})]}),z(s,1)]}),t.jsx("div",{className:"mt-16"})]},e)))]}),t.jsxs("div",{children:[t.jsx("span",{className:f,children:R("regular_tasks_explore_title")}),t.jsx("div",{className:"mt-10"}),0==P.length?t.jsx(o.Paragraph,{lineCount:5,animated:!0}):P.map(((s,e)=>t.jsxs("div",{children:[t.jsxs("div",{className:v,onClick:e=>{e.stopPropagation(),D(2,s)},children:[t.jsxs("div",{className:k,children:[Z(s),t.jsxs("div",{className:y,children:[t.jsx("span",{className:I,children:s.title}),t.jsxs("div",{className:k,children:[t.jsx(d,{src:g,placeholder:t.jsx(o.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:C,children:s.amount})]})]})]}),z(s,2)]}),t.jsx("div",{className:"mt-16"})]},e)))]})]})]}),t.jsx("div",{className:"footer",children:t.jsx(n,{})})]})}));export{b as default};
