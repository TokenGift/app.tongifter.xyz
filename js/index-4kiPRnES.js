import{c as s,u as e,r as a,j as t,y as n,z as r}from"./index-UySvzYef.js";import{I as i,D as c}from"./infinite-scroll-Dl3Zb79m.js";import{$ as d}from"./useCustomNavigate-B4N-7kXy.js";import{H as l}from"./index-BUckZ-Ya.js";import"./index-iFirlSyc.js";const o="_tab_bar_1uyxk_1",x="_tab_bar_item_1uyxk_10",m="_active_tab_bar_1uyxk_19",_="_record_item_1uyxk_31",j="_row_1uyxk_44",u="_tip_1uyxk_56",h="_coin_title_1uyxk_62",p="_coin_amount_1uyxk_68",v="_time_1uyxk_80",N=s((s=>s.common))((s=>{const{tgUserInfoRaw:N}=s,{t:k}=e(),y=d(),[g,f]=a.useState(0),[b,S]=a.useState(!0),[F,w]=a.useState(!0),[C,M]=a.useState(1),[I,A]=a.useState(1),[L,Q]=a.useState([]),[T,z]=a.useState([]),D=async s=>{y("/receive?id="+s)};return a.useEffect((()=>{}),[]),t.jsxs("div",{className:"warp",children:[t.jsx(l,{title:k("gift_record_title")}),t.jsxs("div",{className:o,children:[t.jsx("div",{onClick:()=>f(0),className:0===g?m:x,children:k("token_record_btn_sent")}),t.jsx("div",{onClick:()=>f(1),className:1===g?m:x,children:k("token_record_btn_received")})]}),t.jsxs("div",{className:"content",children:[0===g?t.jsxs(t.Fragment,{children:[L.map(((s,e)=>t.jsxs("div",{className:_,onClick:()=>D(s.id),children:[t.jsxs("div",{className:j,children:[t.jsxs("span",{className:u,children:[s.recvQuantity,"/",s.totalQuantity," "]}),t.jsxs("span",{className:u,children:[s.recvAmount.toFixed(2),"/",s.totalAmount.toFixed(2)," ",s.tokenSymbol]})]}),t.jsxs("div",{className:j,children:[t.jsx("span",{className:v,children:s.createTime}),t.jsx("span",{className:v})]})]},e))),t.jsx(i,{loadMore:async()=>{const[s]=await n(N,{page:C});200===(null==s?void 0:s.code)&&(Q((e=>[...e,...s.data.records])),S(s.data.current<s.data.pages),M(s.data.current+1))},hasMore:b,children:t.jsx(t.Fragment,{children:b?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Loading"}),t.jsx(c,{})]}):t.jsx("span",{children:"----"})})})]}):null,t.jsx("div",{children:1===g?t.jsxs(t.Fragment,{children:[T.map(((s,e)=>t.jsxs("div",{className:_,onClick:()=>D(s.giftId),children:[t.jsxs("div",{className:j,children:[t.jsx("span",{className:h,children:s.title}),t.jsxs("span",{className:p,children:["+",s.reward," ",s.tokenSymbol]})]}),t.jsxs("div",{className:j,children:[t.jsx("span",{className:v}),t.jsx("span",{className:v,children:s.createTime})]})]},e))),t.jsx(i,{loadMore:async()=>{const[s]=await r(N,{page:I});200===(null==s?void 0:s.code)&&(z((e=>[...e,...s.data.records])),w(s.data.current<s.data.pages),A(s.data.current+1))},hasMore:F,children:t.jsx(t.Fragment,{children:F?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Loading"}),t.jsx(c,{})]}):t.jsx("span",{children:"----"})})})]}):null})]})]})}));export{N as default};
