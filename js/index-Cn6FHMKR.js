import{c as s,u as e,n as t,d as i,l as n,r as a,j as o,T as r,e as c,$ as l}from"./index-D2zR-L_O.js";import{I as d}from"./image-CK6fg3A_.js";import{S as _,P as m,D as p,I as x}from"./input-CAxAyWas.js";import{H as j}from"./index-BatIVU4E.js";import{d as b}from"./index-C5UAf3gZ.js";import{i as u}from"./icon_token_ton-CiNinKlB.js";import"./index-Bip4Ld7A.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-B8bRbc2q.js";const f="_content_body_br2id_1",h="_input_connect_but_br2id_14",N="_input_title_br2id_22",v="_input_br2id_14",g="_type_br2id_40",y="_space_between_row_br2id_75",w="_default_value_br2id_81",k="_selector_br2id_93",C="_coin_icon_br2id_97",S="_send_btn_br2id_100",T="_center_row_br2id_113",D="_row_br2id_140",{createTx:I}=l("common"),R=s((s=>s.common))((s=>{const{tgUserInfoRaw:l}=s,{t:R}=e(),[A]=t();A.get("symbol");const Q=i(),[U,q]=n(),[E,F]=a.useState([{key:"TON",icon:o.jsx(d,{src:u,width:22,style:{borderRadius:22}}),text:"TON",obj:u,balance:0,minAmount:1}]),J=[.1,1,10,100],[K,O]=a.useState({}),[P,B]=a.useState(.1);return a.useEffect((()=>{O(E[0])}),[]),o.jsxs("div",{className:"warp",children:[o.jsx(j,{title:R("recharge_title")}),o.jsxs("div",{className:"content",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[o.jsxs("div",{className:f,children:[o.jsxs(_,{children:[o.jsx("div",{className:h,children:o.jsx(r,{},"txtx01b")}),o.jsx("div",{className:g})]}),o.jsxs(_,{children:[o.jsxs("div",{className:N,children:[R("recharge_tips_1"),"ï¼š"]}),o.jsxs("div",{className:v,children:[o.jsx(m.Menu,{actions:E,placement:"bottom-start",onAction:s=>{O(s)},trigger:"click",children:o.jsxs("div",{className:D,children:[o.jsx(d,{className:C,width:30,src:K.obj,style:{borderRadius:22}}),o.jsx(p,{className:k,color:"#ffffff"})]})}),o.jsx(x,{type:"number",style:{"--color":"#ffffff"},min:.01,max:99999999.999,onChange:s=>B(s),value:P})]})]}),o.jsx(_,{children:o.jsx("div",{className:y,children:J.map(((s,e)=>o.jsx("div",{className:w,onClick:()=>(async s=>{B(J[s])})(e),children:s},e)))})}),o.jsx(_,{})]}),o.jsx("div",{className:T,children:o.jsx("div",{className:S,onClick:()=>(async()=>{if(!Q)return void c.show({content:"Please connect the wallet first !",position:"top"});if(P<.1)return void c.show({content:"The deposit must be no less than 0.1 !",position:"top"});c.show({icon:"loading",content:"Recharging",duration:5e3,maskClickable:!1});const[s]=await I(l,{tokenSymbol:K.key,amount:P,type:1});if(200===(null==s?void 0:s.code)){const e=b.beginCell().storeUint(0,32).storeStringTail(null==s?void 0:s.data).endCell(),t={validUntil:10,messages:[{address:"0QDfaFNqk95QQ9NNIn8qkw4_Z968ExKLwCJF0DNAT_7pxbCk",amount:b.toNano(P).toString(),payload:e.toBoc().toString("base64")}]};U.sendTransaction(t)}c.clear()})(),children:R("recharge_btn")})})]})]})}));export{R as default};
