import{c as s,u as e,r as t,j as i,a,e as n,$ as o}from"./index-omS-G4S3.js";import{I as r}from"./image-9G0k2AvF.js";import{S as c,P as d,D as l,I as m}from"./input-BNEiuq_7.js";import{H as h}from"./index-CgzJo_-V.js";import{i as j}from"./icon_menu-CWW6Ti6G.js";import{i as x}from"./icon_token_ton-CiNinKlB.js";import{i as _}from"./icon_token_usdt-Vc1nzOUY.js";import{i as w,a as u,b as p,c as f,d as b}from"./icon_token_x-DqSqn68l.js";import{$ as N}from"./useCustomNavigate-CbUPeUw1.js";import"./index-Bjim0Lia.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-DuitURPg.js";const y="_content_body_1hzxj_1",v="_net_tips_1hzxj_14",k="_input_title_1hzxj_22",g="_input_1hzxj_22",z="_selector_1hzxj_93",S="_coin_icon_1hzxj_97",A="_send_btn_1hzxj_100",O="_center_row_1hzxj_113",R="_tip1_1hzxj_131",F="_tip2_1hzxj_137",T="_row_1hzxj_143",D="_right_icon_1hzxj_148",I="_icon_1hzxj_154",{getWalletList:C,postWithdraw:E}=o("common"),G=s((s=>s.common))((s=>{const{tgUserInfoRaw:o}=s,G=N(),{t:U}=e(),[H,K]=t.useState([{key:"TON",icon:i.jsx(r,{src:x,width:22,style:{borderRadius:22}}),text:"TON",obj:x,balance:0,minAmount:1,withdrawFee:.01},{key:"USDT",icon:i.jsx(r,{src:_,width:22,style:{borderRadius:22}}),text:"USDT",obj:_,balance:0,minAmount:1,withdrawFee:.01},{key:"NOT",icon:i.jsx(r,{src:w,width:22,style:{borderRadius:22}}),text:"NOT",obj:w,balance:0,minAmount:1,withdrawFee:.01},{key:"STON",icon:i.jsx(r,{src:u,width:22,style:{borderRadius:22}}),text:"STON",obj:u,balance:0,minAmount:1,withdrawFee:.01},{key:"NIKO",icon:i.jsx(r,{src:p,width:22,style:{borderRadius:22}}),text:"NIKO",obj:p,balance:0,minAmount:1,withdrawFee:.01},{key:"DOGS",icon:i.jsx(r,{src:f,width:22,style:{borderRadius:22}}),text:"DOGS",obj:f,balance:0,minAmount:1,withdrawFee:.01},{key:"X",icon:i.jsx(r,{src:b,width:22,style:{borderRadius:22}}),text:"X",obj:b,balance:0,minAmount:1,withdrawFee:.01}]),[L,M]=t.useState({}),[W,X]=t.useState(.1),[$,J]=t.useState(""),P=()=>{G("/withdrawRecord")},q=()=>{(async()=>{const[s]=await C(o);if(200!==(null==s?void 0:s.code))return"";null==s||s.data.forEach((s=>{H.forEach((e=>{s.tokenSymbol===e.key&&(e.balance=s.balance,e.minAmount=s.minAmount,e.withdrawFee=s.withdrawFee)}))})),M(H[0])})()};return a.useActivate((()=>{q()})),t.useEffect((()=>{q()}),[]),i.jsxs("div",{className:"warp",children:[i.jsx(h,{title:U("withdraw_title"),right:i.jsx("div",{className:D,children:i.jsx(r,{className:I,src:j,onClick:()=>P(),width:32,height:32,style:{borderRadius:10}})})}),i.jsxs("div",{className:"content",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[i.jsxs("div",{className:y,children:[i.jsxs(c,{children:[i.jsx("div",{className:v,children:"Network: TON (Mainnet)"}),i.jsx("div",{className:k,children:U("withdraw_tips_1")}),i.jsxs("div",{className:g,children:[i.jsx(d.Menu,{actions:H,placement:"bottom-start",onAction:s=>{M(s)},trigger:"click",children:i.jsxs("div",{className:T,children:[i.jsx(r,{className:S,src:L.obj,width:30,style:{borderRadius:22}}),i.jsx(l,{className:z,color:"#ffffff"})]})}),i.jsx(m,{style:{"--color":"#ffffff"},type:"number",min:.01,max:99999999.999,onChange:s=>X(s),value:W})]})]}),i.jsxs(c,{children:[i.jsx("div",{className:k,children:U("withdraw_tips_2")}),i.jsx("div",{className:g,children:i.jsx(m,{style:{"--color":"#ffffff"},onChange:s=>J(s),maxLength:120,value:$})})]}),i.jsx(c,{children:i.jsx("div",{className:T,children:i.jsxs("span",{className:R,children:[U("withdraw_tips_3")," ",L.balance," ",L.text]})})}),i.jsx(c,{children:i.jsx("div",{className:T,children:i.jsxs("span",{className:R,children:[U("withdraw_tips_4")," ",(null==L?void 0:L.balance)>0?L.withdrawFee:0," ",L.text]})})}),i.jsx(c,{children:i.jsx("div",{className:T,children:i.jsxs("span",{className:F,children:[U("withdraw_tips_5")," 0.00 ",L.text]})})})]}),i.jsx("div",{className:O,onClick:()=>(async()=>{if(!$.trim())return void n.show({content:"Invalid address.",position:"top"});const[s]=await E(o,{symbol:L.key,amount:W,receiveAddress:$});200===(null==s?void 0:s.code)?(n.show({content:"Success.",position:"top"}),P()):n.show({content:null==s?void 0:s.message,position:"top",duration:5e3})})(),children:i.jsx("div",{className:A,children:U("withdraw_tips_btn")})})]})]})}));export{G as default};
