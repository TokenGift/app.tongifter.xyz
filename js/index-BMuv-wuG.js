import{c as s,r as e,u as a,a as i,j as t,S as r,M as c,$ as l,_ as n}from"./index-DQAbSptE.js";import{F as d}from"./index-CYD32nGR.js";import{I as o}from"./image-DSVlgWYQ.js";import{S as m}from"./index-BQTmt_2f.js";import{i as h}from"./img_bg_01-l5NtG1c8.js";import{i as p}from"./icon_calendar-7fqQlRBC.js";import{i as A,a as g}from"./icon_refresh-9vnDdaeD.js";import{i as j}from"./icon_tgt-CrhvpaUb.js";import{$ as x}from"./useCustomNavigate-Cru2--At.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-D8bgJRf3.js";import"./index-CJ-TVPad.js";import"./logo-2z5xhOvM.js";const u="_plr16_pgh63_1",N="_invite_pgh63_4",v="_invite_info_pgh63_10",_="_coin_icon_pgh63_28",w="_item_pgh63_42",f="_share_btn_pgh63_52",y="_title_pgh63_72",k="_row_pgh63_65",I="_column_pgh63_94",B="_item_title_pgh63_105",C="_header_titile_pgh63_110",U="_item_bonus_pgh63_113",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABS9JREFUWEe1l21sU2UUx//PvbcbW9t1L22HhLmyjc0xA4HwohIcTCSQyItgCKIgX8YHl0D8YHQSFwQUZQFEzRICgvEDYAiIg2BQNyYhERRRcBMnY2Whe2lX2q3b+nrvc8wtljC2vgy2k/RD85z7nN85z7n/81yGGLZ2Z1uexNgaxoQyTlTCuWAkkASK/hCByWDcyQhNTGB1BOWbI5W5rdGeYMMtrKu+PUlg7BNOwspgiERfkBCQCbJCIEL4F8vUTZkASAJDssQUUaKTEvDO8fct1oefGwLw+u7W9YyJNf4QtP0+Dm+QhwNzHjtotFVBBREZxmnQrxHlijNVRV8/6DsI4LXdzZUkJX/Y7yPW61MQDN3LeDSMMSBJBGlE+b2fthZ/HNnzPsCrexrfgCb1sMdHrMerQJZHKfJD9JJAlESBDee3TwtXIgywcuevecl6w/W+kKh198sIKWMTPMIiQe6XZO/UCzvmWMMAqz/747gs6l7p7pPhD41t8HsQBDHUf/zStjmr2YpddfkavbnZHZRE9dxH68zj9o3iV6jXUcSWV/+8BWmmHY4BjuAYnftwMEQKeI9jC1u2p6HerzUucHkV8MesfmqSgGctOpQW6KARGSpPt0ctBBGB99jr2dK9dXZPqsnsCTziiw5ginkcSvP1mJmjRZIohINaXX5UneuIIZkExd1pZ0v2npN7tdmiNzQygMwUCfMsepROSoNZpxkS6PDvDtTd8sRoBQJ3tits0affU68+G345PoAoMMwYr8N8SxqmZqdCUNVlGAsqHBVnWxEzKSIo3e1gL+47Sz0Gc1jro9kTuiSU5RowLycNaclS3Aa/eMeDmqudcfwIil0F+OIMuVWAGOJzcFEhtBoxbuCIw/ZLbfj7rjcBgA6whTWnyZ0eG2B2th7L84zIN6TEhbB7g9h8oSWunypGSlcH2Av7a8mdYYpZgchuhempWJyTiTkmQ3jUDmfHbtnxrbU7IQDeqQIc+I5cmSYERiACmckarM8fj+fM6YMCcSK8eekfuAJyfABVB1SAskOnyJ1lhH+EA0iFqJlVDPGBN+Gqy4OdTUPuHFFgCLyjE2zBoRPkNpvhf4Qbx1uTLZhrzLgfoLrZisuunvjZh+cRgds6wJ4/cFTpmThBGMkRRCIU6bT4aEpR+G9vKISNfzZCTnSaqQDWNoXN/fygo68wz+RPjHuI166iYhRotah1dOErmy3xXRQFvPHfbjZ7++4G/8ySUp9mqJwmstszhgxU5Fjw7s0baA8kmgaB/AHQ5esNbPrmyio+d/oHA6Z0IIq0JgIyIh8iUKcTuHi1ik0rryikPMsN7+wpAiXFl9kRBYrmHAyBfvmLB1tuPxVWk5LyTafkshnLQ0+aAfUePZamvm1tXUDdlVOtX9a8HAYoXrthMjcbr4UWzUihLAMQReUem0sVO2cv6IcrPtnWNc124sjN+3pauGpduVIwYb+yYCqDMW30K6Fm7vQA9deItdzZaD159KCa0CBBL1ixdquSa6ri859mmJgFqD3xuI2p6kJQBmxOsIZGgtWx7Xbtsa2Rag6ZKPlLVpVzg3Yfn5WfQiU5QJYeUO8AKkiiMJEPSHUm3O0Da7oD9luLj7kHNlnPnQxnHhVAXch7adVkCvJqytAupYJsgXKNoEwd1A+8uE2qltofBHMNgLU5wVrsHO7+0zKJb9t+PHHz4T4afqb+7zVp8bIi8sprmCSVkUYsgShkgEgYfHAPbKleqhjjULibhZQmCsr1TCMds56vbY7WwP8B7YZGV4eyEEoAAAAASUVORK5CYII=",{getExploreTasks:S,exploreUpdateTask:H,checkExploreTask:b}=l("common"),P=s((s=>s.common))((s=>{const{tgUserInfoRaw:l}=s,P=x(),[M,R]=e.useState([]),{t:E}=a(),[T,Y]=e.useState([{id:0,title:E("regular_tasks_daily_checkin_title"),amount:"2-100",icon:"calendar",completed:!1}]),z=async()=>{const[s]=await S(l);200===(null==s?void 0:s.code)&&R(null==s?void 0:s.data)},W=(s,e)=>1===e?t.jsx(o,{className:_,src:Q,width:32,height:32,style:{borderRadius:10}}):s.completed?t.jsx(o,{className:_,src:A,width:32,height:32,style:{borderRadius:10}}):1===s.status?t.jsx(o,{className:_,src:g,width:32,height:32,onClick:e=>{e.stopPropagation(),Z(s)},style:{borderRadius:10}}):2===s.status?t.jsx(r,{style:{"--size":"24px","--color":"red"}}):t.jsx(o,{className:_,src:Q,width:32,height:32,style:{borderRadius:10}}),Z=async s=>{const[e]=await b(l,{taskId:s.id});if(200===(null==e?void 0:e.code)&&2==(null==e?void 0:e.data)){confetti({particleCount:100,spread:70,origin:{y:.6}});const[e]=await H(l,{taskId:s.id});200===(null==e?void 0:e.code)&&z()}},J=s=>{switch(null==s?void 0:s.icon){case"calendar":return t.jsx(o,{src:p,width:40,height:40});case"twitter":return t.jsx(o,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7ElEQVR4Ae1XMZLCMAwUdw0ldJQ8ATpKnkBJByUd8ALyA/gBdJTQUtHS8QT4AaRM5ctmThmfogQ75CYNmhGTbGJr45Vk0yAiQzXaF9VsHwIZAofDgYwxqo9GI/K16/X6cqyxvdVqmdvtZh6PhwmCIHXcw7vdrpFj8ny9XhsYxhe8lwWHw2EycLFYpNh0Ok2w8/nsFHy1WrkE1wnAN5tNMkGv10ux3W6XIab5fD5P3ovldCGrP2Ap4LiW8uRJAcIwe1wpArYU0FJimhQgxaQ9cqX4BZYCgSVmS8HBfRP1JQEsY1xKGSmAcTC+l0QrIWDraicVMBBA4O1265ScpQnAMbkMwphjub1HAI7EkxoDK7n0/gQQGATsCmDMo+z++Hf8E5CjPZ9PiqKIZrMZhWFIl8slxcbjMTWbTTqdTuRrXoz5i2WXRIL+WxWw2+Uml13rnJUT4K9E9nMFaF3SxiojoO1u2rJzl4z3/+oIcHBMLiUp2rDe3ozg+BIYtNee87KjGzLGndPx7JD/0K7xog2Gl30ymaSY1jm9CPhsrXnnBK1zOhHgCWWtF7l2TtA6p3S1E+73exoMBrRcLul4PJKL3e93arfbSUeMA1O/36eYPHU6nWQu7pyaqRlfZnezV05anhSN34va7PPXrHYCP+VaTG3LBV1KAAAAAElFTkSuQmCC",width:40,height:40});default:return t.jsx(o,{src:"/img/icon_telegram.DpR4Iy3a.png",width:40,height:40})}},D=()=>{P("/inviteDetail")},G=async(s,e)=>{if(1==s)n.remove(),n.custom((s=>t.jsx("div",{className:"custom-toast",children:t.jsxs("div",{className:"row",children:[t.jsx(o,{className:"custom-toast-icon",src:p,width:40,height:40}),t.jsx("span",{className:"custom-toast-content",children:"啊就是贷记卡说的"})]})})));else if(1!=e.type){if(c("web_app_open_link",{url:e.value,try_instant_view:!0}),e.completed)return;const[s]=await H(l,{taskId:e.id});200===(null==s?void 0:s.code)&&z()}else{e.status=1;const s=M.map((s=>s.id===e.id?{...s,...e}:s));R(s),c("web_app_open_tg_link",{path_full:e.value.replace("@","")})}},K=()=>{z()};return i.useActivate((()=>{K()})),e.useEffect((()=>{K()}),[]),e.useEffect((()=>{J()}),[M]),t.jsxs("div",{className:"warp",children:[t.jsxs("div",{className:"content",children:[t.jsxs("div",{className:N,children:[t.jsx("div",{className:v,children:t.jsx(o,{className:_,src:h,placeholder:t.jsx(m.Paragraph,{style:{width:"100%"}}),onClick:()=>{D()},style:{borderRadius:10}})}),t.jsx("div",{className:f,onClick:()=>{D()},children:t.jsx("span",{className:C,children:E("regular_tasks_invite_btn")})})]}),t.jsxs("div",{className:u,children:[t.jsxs("div",{children:[t.jsx("span",{className:y,children:E("regular_tasks_daily_title")}),t.jsx("div",{className:"mt-10"}),T.map(((s,e)=>t.jsxs("div",{children:[t.jsxs("div",{className:w,onClick:()=>G(1,s),children:[t.jsxs("div",{className:k,children:[J(s),t.jsxs("div",{className:I,children:[t.jsx("span",{className:B,children:s.title}),t.jsxs("div",{className:k,children:[t.jsx(o,{src:j,placeholder:t.jsx(m.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:U,children:s.amount})]})]})]}),W(s,1)]}),t.jsx("div",{className:"mt-16"})]},e)))]}),t.jsxs("div",{children:[t.jsx("span",{className:y,children:E("regular_tasks_explore_title")}),t.jsx("div",{className:"mt-10"}),0==M.length?t.jsx(m.Paragraph,{lineCount:5,animated:!0}):M.map(((s,e)=>t.jsxs("div",{children:[t.jsxs("div",{className:w,onClick:e=>{e.stopPropagation(),G(2,s)},children:[t.jsxs("div",{className:k,children:[J(s),t.jsxs("div",{className:I,children:[t.jsx("span",{className:B,children:s.title}),t.jsxs("div",{className:k,children:[t.jsx(o,{src:j,placeholder:t.jsx(m.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:U,children:s.amount})]})]})]}),W(s,2)]}),t.jsx("div",{className:"mt-16"})]},e)))]})]})]}),t.jsx("div",{className:"footer",children:t.jsx(d,{})})]})}));export{P as default};
