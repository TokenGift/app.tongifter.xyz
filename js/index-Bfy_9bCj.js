import{c as e,u as s,r,j as a,$ as t}from"./index-B_QEX5KI.js";import{I as n,D as c}from"./infinite-scroll-BeI_Iih9.js";import{H as o}from"./index-G6XgPCFx.js";import"./index-BtR6RVKa.js";const d="_record_item_bcssw_10",_="_row_bcssw_23",i="_coin_title_bcssw_30",l="_coin_amount_bcssw_36",m="_coin_amount_decrease_bcssw_42",x="_time_bcssw_48",p="_ext_bcssw_54",{getWalletHistory:j}=t("common"),u=e((e=>e.common))((e=>{const{tgUserInfoRaw:t}=e,{t:u}=s(),[h,y]=r.useState([]),[f,w]=r.useState(1),[N,b]=r.useState(!0),k=e=>{switch(e){case 1:return u("token_record_type_1");case 2:return u("token_record_type_2");case 3:return u("token_record_type_3");case 4:return u("token_record_type_4");case 5:return u("token_record_type_5");case 6:return u("token_record_type_6");case 7:return u("token_record_type_7");case 8:return u("token_record_type_8");default:return"-"}};return r.useEffect((()=>{}),[]),a.jsxs("div",{className:"warp ",children:[a.jsx(o,{title:u("token_record_title")}),a.jsxs("div",{className:"content",children:[h.map(((e,s)=>a.jsxs("div",{className:d,children:[a.jsx("div",{className:_,children:e.before>e.after?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:i,children:k(e.type)}),a.jsxs("span",{className:m,children:["-",e.money.toFixed(2)," ",e.tokenSymbol]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:i,children:k(e.type)}),a.jsxs("span",{className:l,children:["+",e.money.toFixed(2)," ",e.tokenSymbol]})]})}),a.jsxs("div",{className:_,children:[a.jsx("span",{className:x,children:e.createTime}),a.jsxs("span",{className:x,children:["balance: ",e.after.toFixed(2)]})]}),a.jsx("span",{className:p,children:e.ext})]},s))),a.jsx(n,{loadMore:async()=>{const[e]=await j(t,{page:f});200===(null==e?void 0:e.code)&&(y((s=>[...s,...e.data.records])),b(e.data.current<e.data.pages),w(e.data.current+1))},hasMore:N,children:a.jsx(a.Fragment,{children:N?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Loading"}),a.jsx(c,{})]}):a.jsx("span",{children:"----"})})})]})]})}));export{u as default};
