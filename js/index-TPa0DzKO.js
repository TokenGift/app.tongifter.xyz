import{c as e,r as s,u as a,l as i,a as t,j as l,t as n,o as r,d as c,M as o,$ as d}from"./index-B01QqnEj.js";import{E as _}from"./empty-C9jrRULw.js";import{I as m}from"./image-D7YUgWfZ.js";import{P as g}from"./popup-CNxWgDQM.js";import{S as h}from"./index-B-xHzwD4.js";import{i as p}from"./icon_tgt-CrhvpaUb.js";import{i as u}from"./icon_token_ton-CiNinKlB.js";import{i as v,a as x}from"./icon_token_not-NeONbRwt.js";import{c as f}from"./index-BTqKWDVj.js";import{$ as j}from"./useCustomNavigate-BN3LAfOD.js";import{S as N,L as w}from"./SendOutline-DpahAFeV.js";import"./index-BE7AmymO.js";import"./attach-properties-to-component-CClyKAqJ.js";const y="_row_3g7g1_8",b="_result_stamp_empty_3g7g1_15",k="_balance_widget_3g7g1_37",S="_tip_box_3g7g1_45",C="_has_more_tips_3g7g1_50",T="_tip_3g7g1_45",A="_balance_name_3g7g1_60",I="_balance_name_after_3g7g1_68",G="_balance_3g7g1_37",R="_token_symbol_3g7g1_78",U="_wallet_icon_3g7g1_82",H="_column_3g7g1_92",B="_record_item_3g7g1_98",M="_receive_record_3g7g1_106",O="_row_sb_3g7g1_120",P="_coin_balance_3g7g1_128",L="_coin_amount_3g7g1_136",z="_time_3g7g1_140",E="_count_3g7g1_144",V="_share_btn_3g7g1_148",$="_share_pop_3g7g1_162",q="_share_column_center_3g7g1_168",D="_share_title_3g7g1_174",W="_share_describe_3g7g1_179",F="_share_row_sb_3g7g1_189",Q="_share_icon_bg_3g7g1_197",J="_share_header_titile_3g7g1_210",K="_share_to_group_3g7g1_213",{getReceivedHistoryMainLimit:X}=d("common"),Y=s.memo((function(e){var d,Y,Z,ee,se,ae,ie,te,le,ne,re,ce;const{tgUserInfoRaw:oe,tgUserInfo:de,giftInfoPre:_e}=e,{t:me}=a(),ge=j(),[he,pe]=s.useState(!1),[ue,ve]=s.useState({}),[xe,fe]=s.useState(null),[je,Ne]=s.useState(0),[we]=i(),ye=we.get("id"),be=async()=>{o("web_app_switch_inline_query",{query:r(ye,de.id),chat_types:["users","users","groups","channels"]})},ke=()=>{(async()=>{ve(_e),99==_e.gift.status?Ne(2):(Ne(1),_e.gift.userId==de.id&&Ne(3))})(),(async()=>{const[e]=await X(oe,{id:ye});200===(null==e?void 0:e.code)&&fe(null==e?void 0:e.data)})()};return t.useActivate((()=>{ke()}),[_e]),s.useEffect((()=>{ke()}),[_e]),l.jsxs("div",{className:"warp",children:[l.jsx("div",{className:k,style:{backgroundImage:`url(${null==(d=ue.gift)?void 0:d.coverImg})`}}),null==ue.gift?l.jsx("div",{className:H,children:l.jsx(h.Title,{lineCount:10,animated:!0})}):null,null!=ue.gift?l.jsxs("div",{className:H,children:[l.jsxs("span",{className:A,children:[null==(Y=ue.gift)?void 0:Y.title," ",l.jsx("span",{className:I,children:me("receive_detail_for_you")})]}),l.jsxs("div",{className:y,children:[l.jsx(m,{src:(Se=null==(Z=ue.gift)?void 0:Z.tokenSymbol,"TGT"==Se?p:"USDT"==Se?v:"TON"==Se?u:"NOT"==Se?x:void 0),width:26}),l.jsxs("span",{className:G,children:[null!=ue.myAward&&de.id!=(null==ue?void 0:ue.gift.userId)?ue.myAward.totalReward:null==(ee=ue.gift)?void 0:ee.totalAmount,l.jsxs("span",{className:R,children:[" ",null==(se=ue.gift)?void 0:se.tokenSymbol]})]}),l.jsx(m,{className:U,onClick:()=>{ge("/me")},src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20512%20512'%20fill='none'%20class='h-full%20w-full'%20id='iconWithBackground'%3e%3crect%20id='r4'%20width='512'%20height='512'%20x='0'%20y='0'%20rx='80'%20fill='url(%23linearGradient-iconWithBackground)'%20stroke='%23000000'%20stroke-width='0'%20stroke-opacity='100%25'%20paint-order='stroke'/%3e%3cdefs%3e%3clinearGradient%20id='linearGradient-iconWithBackground'%20gradientUnits='userSpaceOnUse'%20gradientTransform='rotate(0)'%20style='transform-origin:center%20center'%3e%3cstop%20stop-color='%231CDFAE'/%3e%3cstop%20offset='1'%20stop-color='%233C6DE1'/%3e%3c/linearGradient%3e%3cradialGradient%20id='glare'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(256)%20rotate(90)%20scale(512)'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cclipPath%20id='clip'%3e%3cuse%20xlink:href='%23r4'/%3e%3c/clipPath%3e%3c/defs%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='340'%20height='340'%20viewBox='0%200%2024%2024'%20x='86'%20y='86'%3e%3cpath%20fill='%23ffffff'%20d='M19.5%207H18V6a3.003%203.003%200%200%200-3-3H4.5A2.502%202.502%200%200%200%202%205.5V18a3.003%203.003%200%200%200%203%203h14.5a2.502%202.502%200%200%200%202.5-2.5v-9A2.502%202.502%200%200%200%2019.5%207zm-15-3H15a2.003%202.003%200%200%201%202%202v1H4.5a1.5%201.5%200%201%201%200-3zM21%2016h-2a2%202%200%200%201%200-4h2v4zm0-5h-2a3%203%200%201%200%200%206h2v1.5a1.5%201.5%200%200%201-1.5%201.5H5a2.003%202.003%200%200%201-2-2V7.499c.432.326.959.502%201.5.501h15A1.5%201.5%200%200%201%2021%209.5V11z'/%3e%3c/svg%3e%3c/svg%3e",width:36})]})]}):null,l.jsxs("div",{className:"content1",children:[l.jsx("div",{className:S,children:l.jsxs("span",{className:T,children:[me("receive_detail_tips_1")," ",null==(ae=ue.gift)?void 0:ae.recvQuantity,"/",null==(ie=ue.gift)?void 0:ie.totalQuantity," ",n(null==(te=ue.gift)?void 0:te.recvAmount,3),"/",n(null==(le=ue.gift)?void 0:le.totalAmount,3)," ",null==(ne=ue.gift)?void 0:ne.tokenSymbol]})}),l.jsx("div",{className:"ma-10"}),99==(null==(re=ue.gift)?void 0:re.status)&&l.jsx("div",{className:b}),null==xe?l.jsx(h.Paragraph,{lineCount:10,animated:!0}):null,null==xe?void 0:xe.map(((e,s)=>{var a;return l.jsxs("div",{className:M,children:[l.jsx(m,{src:`https://api.multiavatar.com/${e.userId}.png`,style:{borderRadius:40},width:40,height:33}),l.jsxs("div",{className:B,children:[l.jsxs("div",{className:O,children:[l.jsx("span",{className:P,children:e.firstName}),l.jsxs("span",{className:L,children:["+",e.totalReward," ",null==(a=ue.gift)?void 0:a.tokenSymbol]})]}),l.jsxs("div",{className:O,children:[l.jsx("span",{className:z,children:e.createTime}),l.jsxs("span",{className:E,children:["+",e.totalTimes-e.surplusTimes," ",me("receive_detail_times")]})]})]})]},s)})),0==(null==xe?void 0:xe.length)?l.jsx("div",{className:"pt-20",children:l.jsx(_,{description:"Nobody"})}):null,(null==xe?void 0:xe.length)>=25?l.jsx("div",{className:C,children:me("receive_detail_more_tips")}):null]}),l.jsx(g,{visible:he,onMaskClick:()=>{pe(!1)},bodyStyle:{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"},destroyOnClose:!0,children:l.jsx("div",{className:$,children:l.jsxs("div",{className:q,children:[l.jsx("span",{className:D,children:me("receive_share_pop_title")}),l.jsx("span",{className:W,children:me("receive_share_pop_tips_1",{v1:null==(ce=ue.gift)?void 0:ce.invitePreUser})}),l.jsxs("div",{className:F,children:[l.jsxs("div",{className:q,onClick:()=>{be()},children:[l.jsx("div",{className:Q,children:l.jsx(N,{color:"#ff5284"})}),l.jsx("span",{className:W,children:me("receive_share_pop_btn_to_link")})]}),l.jsxs("div",{className:q,onClick:()=>(async()=>{f("@tokengiftbot "+r(ye,de.id)),c.show({content:"Link copied!",position:"top"})})(),children:[l.jsx("div",{className:Q,children:l.jsx(w,{color:"#ff5284"})}),l.jsx("span",{className:W,children:me("receive_share_pop_tips_copy_url")})]})]}),l.jsx("div",{className:K,onClick:()=>{be()},children:l.jsx("span",{className:J,children:me("receive_share_pop_btn_to_chat")})})]})})}),1==je?l.jsx("div",{className:V,onClick:()=>{pe(!0)},children:l.jsx("span",{className:J,children:me("receive_detail_btn_agen")})}):null,2==je?l.jsx("div",{className:V,onClick:()=>{ge("/")},children:l.jsx("span",{className:J,children:me("receive_detail_btn")})}):null,3==je?l.jsx("div",{className:V,onClick:()=>{(async()=>{be()})()},children:l.jsx("span",{className:J,children:me("receive_share_btn_to_user")})}):null]});var Se})),Z=e((e=>e.common))(Y);export{Z as default};
