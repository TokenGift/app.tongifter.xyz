import{c as e,u as s,D as t,b as a,k as n,r as i,j as o,T as r,s as l,d as c,$ as d}from"./index-CAWxz8tD.js";import{I as _}from"./image-QO9SbbK7.js";import{S as m,P as p,D as x,I as j}from"./input-BZ2oZpe7.js";import{H as u}from"./index-DPWBUTSu.js";import{d as f}from"./index-wlbD_nvw.js";import{i as h}from"./icon_token_ton-CiNinKlB.js";import"./index-C3tKpjJF.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-DRYdZv82.js";import"./validate-B2qvIEsg.js";const v="_content_body_l037e_1",b="_input_connect_but_l037e_14",y="_input_title_l037e_22",N="_input_l037e_14",g="_type_l037e_40",E="_space_between_row_l037e_75",S="_default_value_l037e_81",R="_selector_l037e_93",w="_coin_icon_l037e_97",T="_send_btn_l037e_100",k="_center_row_l037e_113",A="_row_l037e_140",{VITE_RECHARGE_ADDRESS:D}={BASE_URL:"/",DEV:!1,MODE:"prod",PROD:!0,SSR:!1,VITE_APP_ENV:"prod",VITE_BASE_URL:"https://api.tongifter.xyz",VITE_RECHARGE_ADDRESS:"0QBVHX3_gVwPZnzKPob1zpZ3tOX67xXzuFe_Ux2Pyr_R7Yms"},{createTx:P}=d("common"),C=e((e=>e.common))((e=>{const{tgUserInfoRaw:d}=e,{t:C}=s();t();const I=a(),[V,O]=n(),[U,z]=i.useState([{key:"TON",icon:o.jsx(_,{src:h,width:22,style:{borderRadius:22}}),text:"TON",obj:h,balance:0,minAmount:1}]),B=[1,10,100],[H,L]=i.useState({}),[X,F]=i.useState(1);return i.useEffect((()=>{L(U[0])}),[]),o.jsxs("div",{className:"warp",children:[o.jsx(u,{title:C("recharge_title")}),o.jsxs("div",{className:"content",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[o.jsxs("div",{className:v,children:[o.jsxs(m,{children:[o.jsx("div",{className:b,children:o.jsx(r,{},"txtx01b")}),o.jsx("div",{className:g})]}),o.jsxs(m,{children:[o.jsxs("div",{className:y,children:[C("recharge_tips_1"),"ï¼š"]}),o.jsxs("div",{className:N,children:[o.jsx(p.Menu,{actions:U,placement:"bottom-start",onAction:e=>{L(e)},trigger:"click",children:o.jsxs("div",{className:A,children:[o.jsx(_,{className:w,width:30,src:H.obj,style:{borderRadius:22}}),o.jsx(x,{className:R,color:"#ffffff"})]})}),o.jsx(j,{type:"number",style:{"--color":"#ffffff"},min:.1,max:99999999.999,onChange:e=>F(e),value:X})]})]}),o.jsx(m,{children:o.jsx("div",{className:E,children:B.map(((e,s)=>o.jsx("div",{className:S,onClick:()=>(async e=>{F(B[e])})(s),children:e},s)))})}),o.jsx(m,{})]}),o.jsx("div",{className:k,children:o.jsx("div",{className:T,onClick:()=>(async()=>{if(!I)return void l("Please connect the wallet first.",3);if(X<.1)return void l("The deposit must be no less than 0.1",3);try{if(f.Address.parseFriendly(I).isTestOnly)return void l("Please use TON mainnet to deposit.",3)}catch(s){return void l("Invalid address.",3)}c.show({icon:"loading",content:"Recharging",duration:5e3,maskClickable:!1});const[e]=await P(d,{tokenSymbol:H.key,amount:X,type:1});if(200===(null==e?void 0:e.code)){const s=f.beginCell().storeUint(0,32).storeStringTail(null==e?void 0:e.data).endCell(),t={validUntil:10,messages:[{address:D,amount:f.toNano(X).toString(),payload:s.toBoc().toString("base64")}]};V.sendTransaction(t)}c.clear()})(),children:C("recharge_btn")})})]})]})}));export{C as default};
