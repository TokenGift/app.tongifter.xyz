import{c as e,r as s,u as a,D as i,a as l,j as t,t as r,F as n,s as c,M as o,G as d,d as _,$ as m}from"./index-CAWxz8tD.js";import{E as p}from"./empty-CykZQUvl.js";import{I as h}from"./image-QO9SbbK7.js";import{P as u}from"./popup-CA2We49j.js";import{S as v}from"./index-IqUY0JS7.js";import{i as x}from"./icon_tgt-CrhvpaUb.js";import{i as f}from"./icon_token_ton-CiNinKlB.js";import{i as j,a as g,b as N,c as w,d as y,e as z}from"./icon_token_x-BgQHK46Y.js";import{c as b}from"./index-CpDoCn0X.js";import{$ as k}from"./useCustomNavigate-DJ0kXvP5.js";import{S,L as T}from"./SendOutline-DgAuHkrm.js";import"./index-C3tKpjJF.js";import"./attach-properties-to-component-CClyKAqJ.js";const C="_row_4z52r_8",I="_result_stamp_empty_4z52r_15",A="_balance_widget_4z52r_37",G="_tip_box_4z52r_45",O="_has_more_tips_4z52r_50",U="_tip_4z52r_45",R="_balance_name_4z52r_60",H="_balance_name_after_4z52r_68",D="_balance_4z52r_37",P="_token_symbol_4z52r_78",B="_wallet_icon_4z52r_82",M="_column_4z52r_92",E="_record_item_4z52r_98",L="_receive_record_4z52r_106",Q="_row_sb_4z52r_120",V="_coin_balance_4z52r_128",$="_coin_amount_4z52r_136",q="_time_4z52r_140",W="_count_4z52r_144",F="_share_btn_4z52r_148",J="_share_pop_4z52r_162",K="_share_column_center_4z52r_168",X="_share_title_4z52r_174",Y="_share_describe_4z52r_179",Z="_share_row_sb_4z52r_189",ee="_share_icon_bg_4z52r_197",se="_share_header_titile_4z52r_210",ae="_share_to_group_4z52r_213",{getGiftInfo:ie,getReceivedHistoryMainLimit:le}=m("common"),te=s.memo((function(e){var m,te,re,ne,ce,oe,de,_e,me,pe,he,ue,ve,xe;const{tgUserInfoRaw:fe,tgUserInfo:je,giftId:ge}=e,{t:Ne}=a(),we=k(),[ye,ze]=s.useState(!1),[be,ke]=s.useState({}),[Se,Te]=s.useState(null),[Ce,Ie]=s.useState(0),[Ae]=i(),Ge=Ae.get("id"),Oe=async()=>{o("web_app_switch_inline_query",{query:d(Ge,je.id),chat_types:["users","users","groups","channels"]})},Ue=()=>{(async()=>{const[e]=await ie(fe,{id:ge});200===(null==e?void 0:e.code)?(ke(null==e?void 0:e.data),99==(null==e?void 0:e.data.gift.status)||1==(null==e?void 0:e.data.invalidType)?Ie(2):(Ie(1),(null==e?void 0:e.data.gift.userId)==je.id&&Ie(3))):_.show({content:Ne(null==e?void 0:e.message),position:"top"})})(),(async()=>{const[e]=await le(fe,{id:Ge});200===(null==e?void 0:e.code)&&Te(null==e?void 0:e.data)})()};return l.useActivate((()=>{Ue()}),[]),s.useEffect((()=>{Ue()}),[]),t.jsxs("div",{className:"warp",children:[t.jsx("div",{className:A,style:{backgroundImage:`url(${null==(m=be.gift)?void 0:m.coverImg})`}}),null==be.gift?t.jsx("div",{className:M,children:t.jsx(v.Title,{lineCount:10,animated:!0})}):null,null!=be.gift?t.jsxs("div",{className:M,children:[t.jsxs("span",{className:R,children:[null==(te=be.gift)?void 0:te.title," ",t.jsx("span",{className:H,children:Ne("receive_detail_for_you")})]}),t.jsxs("div",{className:C,children:[t.jsx(h,{src:(Re=null==(re=be.gift)?void 0:re.tokenSymbol,"TGT"==Re?x:"USDT"==Re?j:"TON"==Re?f:"NOT"==Re?g:"STON"==Re?N:"NIKO"==Re?w:"DOGS"==Re?y:"X"==Re?z:void 0),width:26}),t.jsxs("span",{className:D,children:[null!=be.myAward&&je.id!=(null==be?void 0:be.gift.userId)?be.myAward.totalReward:null==(ne=be.gift)?void 0:ne.totalAmount,t.jsxs("span",{className:P,children:[" ",null==(ce=be.gift)?void 0:ce.tokenSymbol]})]}),t.jsx(h,{className:B,onClick:()=>{we("/me")},src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20512%20512'%20fill='none'%20class='h-full%20w-full'%20id='iconWithBackground'%3e%3crect%20id='r4'%20width='512'%20height='512'%20x='0'%20y='0'%20rx='80'%20fill='url(%23linearGradient-iconWithBackground)'%20stroke='%23000000'%20stroke-width='0'%20stroke-opacity='100%25'%20paint-order='stroke'/%3e%3cdefs%3e%3clinearGradient%20id='linearGradient-iconWithBackground'%20gradientUnits='userSpaceOnUse'%20gradientTransform='rotate(0)'%20style='transform-origin:center%20center'%3e%3cstop%20stop-color='%231CDFAE'/%3e%3cstop%20offset='1'%20stop-color='%233C6DE1'/%3e%3c/linearGradient%3e%3cradialGradient%20id='glare'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(256)%20rotate(90)%20scale(512)'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cclipPath%20id='clip'%3e%3cuse%20xlink:href='%23r4'/%3e%3c/clipPath%3e%3c/defs%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='340'%20height='340'%20viewBox='0%200%2024%2024'%20x='86'%20y='86'%3e%3cpath%20fill='%23ffffff'%20d='M19.5%207H18V6a3.003%203.003%200%200%200-3-3H4.5A2.502%202.502%200%200%200%202%205.5V18a3.003%203.003%200%200%200%203%203h14.5a2.502%202.502%200%200%200%202.5-2.5v-9A2.502%202.502%200%200%200%2019.5%207zm-15-3H15a2.003%202.003%200%200%201%202%202v1H4.5a1.5%201.5%200%201%201%200-3zM21%2016h-2a2%202%200%200%201%200-4h2v4zm0-5h-2a3%203%200%201%200%200%206h2v1.5a1.5%201.5%200%200%201-1.5%201.5H5a2.003%202.003%200%200%201-2-2V7.499c.432.326.959.502%201.5.501h15A1.5%201.5%200%200%201%2021%209.5V11z'/%3e%3c/svg%3e%3c/svg%3e",width:28})]})]}):null,t.jsxs("div",{className:"content1",children:[null==be.gift?t.jsx("div",{children:t.jsx(v.Title,{animated:!0})}):null,null!=be.gift?t.jsx("div",{className:G,children:t.jsxs("span",{className:U,children:[Ne("receive_detail_tips_1")," ",null==(oe=be.gift)?void 0:oe.recvQuantity,"/",null==(de=be.gift)?void 0:de.totalQuantity," ",r(null==(_e=be.gift)?void 0:_e.recvAmount,4),"/",r(null==(me=be.gift)?void 0:me.totalAmount,4)," ",null==(pe=be.gift)?void 0:pe.tokenSymbol]})}):null,1==be.invalidType?t.jsx("div",{className:G,children:t.jsxs("span",{className:U,children:[Ne("add_recive_frozen_tip")," ",null==(he=be.gift)?void 0:he.lockQuantity,"/",null==(ue=be.gift)?void 0:ue.totalQuantity]})}):null,t.jsx("div",{className:"ma-10"}),99==(null==(ve=be.gift)?void 0:ve.status)||1==be.invalidType&&t.jsx("div",{className:I}),null==Se?t.jsx(v.Paragraph,{lineCount:10,animated:!0}):null,null==Se?void 0:Se.map(((e,s)=>{var a;return t.jsxs("div",{className:L,children:[t.jsx(h,{src:e.photoUrl?e.photoUrl:`https://api.multiavatar.com/${e.userId}.png`,style:{borderRadius:40},width:40,height:33,placeholder:t.jsx(v.Paragraph,{animated:!0})}),t.jsxs("div",{className:E,children:[t.jsxs("div",{className:Q,children:[t.jsx("span",{className:V,children:e.firstName}),t.jsxs("span",{className:$,children:["+",r(e.totalReward,4)," ",null==(a=be.gift)?void 0:a.tokenSymbol]})]}),t.jsxs("div",{className:Q,children:[t.jsx("span",{className:q,children:e.createTime}),t.jsxs("span",{className:W,children:["+",e.totalTimes," ",Ne("receive_detail_times")]})]})]})]},s)})),0==(null==Se?void 0:Se.length)?t.jsx("div",{className:"pt-20",children:t.jsx(p,{description:"Nobody"})}):null,(null==Se?void 0:Se.length)>=25?t.jsx("div",{className:O,children:Ne("receive_detail_more_tips")}):null]}),t.jsx(u,{visible:ye,onMaskClick:()=>{ze(!1)},bodyStyle:{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"},destroyOnClose:!0,children:t.jsx("div",{className:J,children:t.jsxs("div",{className:K,children:[t.jsx("span",{className:X,children:Ne("receive_share_pop_title")}),t.jsx("span",{className:Y,children:Ne("receive_share_pop_tips_1",{v1:null==(xe=be.gift)?void 0:xe.invitePreUser})}),t.jsxs("div",{className:Z,children:[t.jsxs("div",{className:K,onClick:()=>{Oe()},children:[t.jsx("div",{className:ee,children:t.jsx(S,{color:"#ff5284"})}),t.jsx("span",{className:Y,children:Ne("receive_share_pop_btn_to_link")})]}),t.jsxs("div",{className:K,onClick:()=>(async()=>{b(n(Ge,je.id)),c("Link copied!",3)})(),children:[t.jsx("div",{className:ee,children:t.jsx(T,{color:"#ff5284"})}),t.jsx("span",{className:Y,children:Ne("receive_share_pop_tips_copy_url")})]})]}),t.jsx("div",{className:ae,onClick:()=>{Oe()},children:t.jsx("span",{className:se,children:Ne("receive_share_pop_btn_to_chat")})})]})})}),1==Ce?t.jsx("div",{className:F,onClick:()=>{ze(!0)},children:t.jsx("span",{className:se,children:Ne("receive_detail_btn_agen")})}):null,2==Ce?t.jsx("div",{className:F,onClick:()=>{we("/")},children:t.jsx("span",{className:se,children:Ne("receive_detail_btn")})}):null,3==Ce?t.jsx("div",{className:F,onClick:()=>{(async()=>{Oe()})()},children:t.jsx("span",{className:se,children:Ne("receive_share_btn_to_user")})}):null]});var Re})),re=e((e=>e.common))(te);export{re as default};
