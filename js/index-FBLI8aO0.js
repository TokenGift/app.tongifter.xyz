import{c as s,u as a,r as i,a as n,j as e,T as o,C as c,d as t,$ as l}from"./index-U73wsQQ6.js";import{G as d}from"./index-DxyS-Rhq.js";import{I as _}from"./image-CLy0BisN.js";import{i as r}from"./icon_calendar-7fqQlRBC.js";import{i as j}from"./icon_tgt-CrhvpaUb.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./index-Bm4qsBrS.js";const m="_sign_in_title_30ojj_1",h="_sign_in_tip_30ojj_7",p="_invite_30ojj_14",u="_share_btn_30ojj_21",x="_column_center_30ojj_34",v="_header_titile_30ojj_41",C="_reward_day_30ojj_44",N="_reward_icon_30ojj_48",k="_reward_count_30ojj_51",g="_sign_in_item_30ojj_55",f="_big_day_30ojj_65",w="_can_checkin_day_30ojj_75",y="_mask_30ojj_78",$="_yes_30ojj_91",{getCheckinConfig:b,doCheckin:I}=l("common"),S=s((s=>s.common))((s=>{var l;const{tgUserInfoRaw:S}=s,{t:z}=a(),[A,B]=i.useState([]),[E,G]=i.useState(3),R=async()=>{const[s]=await b(S);200===(null==s?void 0:s.code)&&(B(null==s?void 0:s.data),(null==s?void 0:s.data.currentIsChecked)?G(1==(null==s?void 0:s.data.loopCheckinCount)?1:null==s?void 0:s.data.loopCheckinCount):G(0==(null==s?void 0:s.data.loopCheckinCount)?1:(null==s?void 0:s.data.loopCheckinCount)+1))},T=()=>{R()};return n.useActivate((()=>{T()})),i.useEffect((()=>{T()}),[]),e.jsxs("div",{className:"warp",children:[e.jsxs("div",{className:"content",children:[e.jsx("div",{className:p,children:e.jsxs("div",{className:x,children:[e.jsx(_,{src:r,width:40,height:40}),e.jsx("span",{className:m,children:z("checkin_title")}),e.jsx("span",{className:h,children:z("checkin_tips_1",{v1:A.loopCheckinCount})}),e.jsx(o,{})]})}),e.jsx("div",{className:x,children:e.jsx(d,{columns:4,gap:12,children:null==(l=A.configs)?void 0:l.map(((s,a)=>e.jsx(d.Item,{children:e.jsxs("div",{style:{position:"relative"},children:[3===a||7===a||11===a?e.jsxs("div",{className:`${f} ${E===s.id?w:null}`,children:[e.jsx("span",{className:C,children:z("checkin_tips_card_big_day")}),e.jsx(_,{src:j,className:N,width:16}),e.jsx("span",{className:k,children:s.normal.amount})]}):e.jsxs("div",{className:`${g}  ${E===s.id?w:null}`,children:[e.jsx("span",{className:C,children:z("checkin_tips_card_day",{v1:s.id})}),e.jsx(_,{src:j,className:N,width:16}),e.jsx("span",{className:k,children:s.normal.amount})]}),A.loopCheckinCount>a?e.jsx("div",{className:y,children:e.jsx(c,{className:$,fontSize:40})}):null]})},a)))})})]}),e.jsx("div",{className:u,onClick:()=>(async()=>{const[s]=await I(S);200===(null==s?void 0:s.code)?(R(),confetti({particleCount:100,spread:70,origin:{y:.6}})):t.show({content:null==s?void 0:s.message,position:"top"})})(),children:e.jsx("span",{className:v,children:z("checkin_tips_btn")})})]})}));export{S as default};
