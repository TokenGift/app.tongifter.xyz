import{c as s,u as e,i as a,r as t,j as n,y as i,z as r}from"./index-qz4s5XqD.js";import{I as c,D as d}from"./infinite-scroll-CClvLDYh.js";import{$ as l}from"./useCustomNavigate-DB-oHT5A.js";import{H as o}from"./index-Bm-vwIiB.js";import"./index-tWUGbN3t.js";const x="_tab_bar_1uyxk_1",m="_tab_bar_item_1uyxk_10",_="_active_tab_bar_1uyxk_19",j="_record_item_1uyxk_31",u="_row_1uyxk_44",h="_tip_1uyxk_56",p="_coin_title_1uyxk_62",v="_coin_amount_1uyxk_68",N="_time_1uyxk_80",k=s((s=>s.common))((s=>{const{tgUserInfoRaw:k}=s,{t:y}=e();a();const g=l(),[f,b]=t.useState(0),[S,F]=t.useState(!0),[w,C]=t.useState(!0),[M,I]=t.useState(1),[A,L]=t.useState(1),[Q,T]=t.useState([]),[z,D]=t.useState([]),E=async s=>{g("/receive?id="+s)};return t.useEffect((()=>{}),[]),n.jsxs("div",{className:"warp",children:[n.jsx(o,{title:y("gift_record_title")}),n.jsxs("div",{className:x,children:[n.jsx("div",{onClick:()=>b(0),className:0===f?_:m,children:y("token_record_btn_sent")}),n.jsx("div",{onClick:()=>b(1),className:1===f?_:m,children:y("token_record_btn_received")})]}),n.jsxs("div",{className:"content",children:[0===f?n.jsxs(n.Fragment,{children:[Q.map(((s,e)=>n.jsxs("div",{className:j,onClick:()=>E(s.id),children:[n.jsxs("div",{className:u,children:[n.jsxs("span",{className:h,children:[s.recvQuantity,"/",s.totalQuantity," "]}),n.jsxs("span",{className:h,children:[s.recvAmount.toFixed(2),"/",s.totalAmount.toFixed(2)," ",s.tokenSymbol]})]}),n.jsxs("div",{className:u,children:[n.jsx("span",{className:N,children:s.createTime}),n.jsx("span",{className:N})]})]},e))),n.jsx(c,{loadMore:async()=>{const[s]=await i(k,{page:M});200===(null==s?void 0:s.code)&&(T((e=>[...e,...s.data.records])),F(s.data.current<s.data.pages),I(s.data.current+1))},hasMore:S,children:n.jsx(n.Fragment,{children:S?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Loading"}),n.jsx(d,{})]}):n.jsx("span",{children:"----"})})})]}):null,n.jsx("div",{children:1===f?n.jsxs(n.Fragment,{children:[z.map(((s,e)=>n.jsxs("div",{className:j,onClick:()=>E(s.giftId),children:[n.jsxs("div",{className:u,children:[n.jsx("span",{className:p,children:s.title}),n.jsxs("span",{className:v,children:["+",s.reward," ",s.tokenSymbol]})]}),n.jsxs("div",{className:u,children:[n.jsx("span",{className:N}),n.jsx("span",{className:N,children:s.createTime})]})]},e))),n.jsx(c,{loadMore:async()=>{const[s]=await r(k,{page:A});200===(null==s?void 0:s.code)&&(D((e=>[...e,...s.data.records])),C(s.data.current<s.data.pages),L(s.data.current+1))},hasMore:w,children:n.jsx(n.Fragment,{children:w?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Loading"}),n.jsx(d,{})]}):n.jsx("span",{children:"----"})})})]}):null})]})]})}));export{k as default};
