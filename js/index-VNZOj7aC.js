import{c as s,u as a,r as e,j as t,N as n,O as r}from"./index-CWe_nE3_.js";import{B as c}from"./index-Jf_ryi5x.js";import{D as i}from"./dot-loading-Ca2IqCQM.js";import{I as d}from"./infinite-scroll-ClBG0AEe.js";import{$ as l}from"./useCustomNavigate-_vYuWrWD.js";import{H as o}from"./index-DPhtZo18.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./index-DuB4UbDZ.js";const m="_tab_bar_1uyxk_1",x="_tab_bar_item_1uyxk_10",j="_active_tab_bar_1uyxk_19",_="_record_item_1uyxk_31",u="_row_1uyxk_44",p="_tip_1uyxk_56",h="_coin_title_1uyxk_62",N="_coin_amount_1uyxk_68",v="_time_1uyxk_80",g=s((s=>s.common))((s=>{const{tgUserInfoRaw:g}=s,{t:k}=a(),y=l(),[f,b]=e.useState(0),[S,F]=e.useState(!0),[w,C]=e.useState(!0),[M,A]=e.useState(1),[I,T]=e.useState(1),[L,Q]=e.useState([]),[R,B]=e.useState([]),D=async s=>{y("/receive?id="+s)};return e.useEffect((()=>{}),[]),t.jsxs("div",{className:"warp",children:[t.jsx(o,{title:k("gift_record_title")}),t.jsxs("div",{className:m,children:[t.jsx("div",{onClick:()=>b(0),className:0===f?j:x,children:k("token_record_btn_sent")}),t.jsx("div",{onClick:()=>b(1),className:1===f?j:x,children:k("token_record_btn_received")})]}),t.jsxs("div",{className:"content",children:[0===f?t.jsxs(t.Fragment,{children:[L.map(((s,a)=>t.jsxs("div",{className:_,onClick:()=>D(s.id),children:[t.jsxs("div",{className:u,children:[t.jsxs("span",{className:p,children:[s.recvQuantity,"/",s.totalQuantity," "]}),t.jsxs("span",{className:p,children:[s.recvAmount.toFixed(2),"/",s.totalAmount.toFixed(2)," ",s.tokenSymbol]})]}),t.jsxs("div",{className:u,children:[t.jsx("span",{className:v,children:s.createTime}),t.jsx("span",{className:v})]}),s.coopType>0?t.jsxs("div",{className:u,children:[t.jsx("span",{className:v}),t.jsx(c,{content:"Ambassador",color:"#4bafbc"})]}):null]},a))),t.jsx(d,{loadMore:async()=>{const[s]=await n(g,{page:M});200===(null==s?void 0:s.code)&&(Q((a=>[...a,...s.data.records])),F(s.data.current<s.data.pages),A(s.data.current+1))},hasMore:S,children:t.jsx(t.Fragment,{children:S?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Loading"}),t.jsx(i,{})]}):t.jsx("span",{children:"----"})})})]}):null,t.jsx("div",{children:1===f?t.jsxs(t.Fragment,{children:[R.map(((s,a)=>t.jsxs("div",{className:_,onClick:()=>D(s.giftId),children:[t.jsxs("div",{className:u,children:[t.jsx("span",{className:h,children:s.title}),t.jsxs("span",{className:N,children:["+",s.reward," ",s.tokenSymbol]})]}),t.jsxs("div",{className:u,children:[t.jsx("span",{className:v}),t.jsx("span",{className:v,children:s.createTime})]})]},a))),t.jsx(d,{loadMore:async()=>{const[s]=await r(g,{page:I});200===(null==s?void 0:s.code)&&(B((a=>[...a,...s.data.records])),C(s.data.current<s.data.pages),T(s.data.current+1))},hasMore:w,children:t.jsx(t.Fragment,{children:w?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Loading"}),t.jsx(i,{})]}):t.jsx("span",{children:"----"})})})]}):null})]})]})}));export{g as default};
