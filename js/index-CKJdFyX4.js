import{c as s,r as a,u as e,a as i,j as t,S as l,s as r,M as n,$ as c}from"./index-DdOA5bYa.js";import{F as o}from"./index-B3DONB-Y.js";import{E as d}from"./empty-CtE2dUbn.js";import{I as m}from"./image-rfdfkRJ3.js";import{S as _}from"./index-ZasFEIyf.js";import{i as p}from"./img_bg_01-l5NtG1c8.js";import{i as h}from"./icon_calendar-7fqQlRBC.js";import{i as x,a as j}from"./icon_refresh-9vnDdaeD.js";import{i as u}from"./icon_tgt-CrhvpaUb.js";import{i as v}from"./icon_token_ton-CiNinKlB.js";import{i as g,a as f,b as A,c as N,d as w,e as k}from"./icon_token_x-BgQHK46Y.js";import{$ as y}from"./useCustomNavigate-CY0XGMux.js";import"./index-CBGd-knf.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./use-props-value-BUnlcXW6.js";import"./index-BzmSX66L.js";import"./logo-2z5xhOvM.js";const C="_plr16_f2tqg_1",T="_invite_f2tqg_4",b="_invite_info_f2tqg_10",S="_coin_icon_f2tqg_28",q="_item_f2tqg_42",I="_share_btn_f2tqg_52",P="_title_f2tqg_72",E="_row_f2tqg_65",B="_column_f2tqg_94",M="_item_title_f2tqg_105",Q="_header_titile_f2tqg_110",G="_item_bonus_f2tqg_113",R="_cliam_f2tqg_168",{getExploreTasks:U,exploreUpdateTask:K,checkExploreTask:W}=c("common"),z=s((s=>s.common))((s=>{const{tgUserInfoRaw:c}=s,z=y(),[D,F]=a.useState(null),{t:H}=e(),[X,Y]=a.useState([{id:0,title:H("regular_tasks_daily_checkin_title"),amount:"2-100",icon:"calendar",completed:!1}]),J=async()=>{const[s]=await U(c);200===(null==s?void 0:s.code)&&F(null==s?void 0:s.data)},O=(s,a)=>1===a?t.jsx("div",{className:R,children:H("receive_btn_do")}):s.completed?t.jsx(m,{className:S,src:x,width:32,height:32,style:{borderRadius:10}}):1===s.status?t.jsx(m,{className:S,src:j,width:32,height:32,onClick:a=>{a.stopPropagation(),L(s)},style:{borderRadius:10}}):2===s.status?t.jsx(l,{style:{"--size":"24px","--color":"red"}}):t.jsx("div",{className:R,children:H("receive_btn_do")}),L=async s=>{const[a]=await W(c,{taskId:s.id});if(200===(null==a?void 0:a.code)&&2==(null==a?void 0:a.data)){const[a]=await K(c,{taskId:s.id});200===(null==a?void 0:a.code)&&(r(H("receive_tips_tips_2",{v1:null==a?void 0:a.data.amount,v2:null==a?void 0:a.data.tokenSymbol}),1),J())}},V=s=>{switch(null==s?void 0:s.icon){case"calendar":return t.jsx(m,{src:h,width:40,height:40});case"twitter":return t.jsx(m,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7ElEQVR4Ae1XMZLCMAwUdw0ldJQ8ATpKnkBJByUd8ALyA/gBdJTQUtHS8QT4AaRM5ctmThmfogQ75CYNmhGTbGJr45Vk0yAiQzXaF9VsHwIZAofDgYwxqo9GI/K16/X6cqyxvdVqmdvtZh6PhwmCIHXcw7vdrpFj8ny9XhsYxhe8lwWHw2EycLFYpNh0Ok2w8/nsFHy1WrkE1wnAN5tNMkGv10ux3W6XIab5fD5P3ovldCGrP2Ap4LiW8uRJAcIwe1wpArYU0FJimhQgxaQ9cqX4BZYCgSVmS8HBfRP1JQEsY1xKGSmAcTC+l0QrIWDraicVMBBA4O1265ScpQnAMbkMwphjub1HAI7EkxoDK7n0/gQQGATsCmDMo+z++Hf8E5CjPZ9PiqKIZrMZhWFIl8slxcbjMTWbTTqdTuRrXoz5i2WXRIL+WxWw2+Uml13rnJUT4K9E9nMFaF3SxiojoO1u2rJzl4z3/+oIcHBMLiUp2rDe3ozg+BIYtNee87KjGzLGndPx7JD/0K7xog2Gl30ymaSY1jm9CPhsrXnnBK1zOhHgCWWtF7l2TtA6p3S1E+73exoMBrRcLul4PJKL3e93arfbSUeMA1O/36eYPHU6nWQu7pyaqRlfZnezV05anhSN34va7PPXrHYCP+VaTG3LBV1KAAAAAElFTkSuQmCC",width:40,height:40});default:return t.jsx(m,{src:"/img/icon_telegram.DpR4Iy3a.png",width:40,height:40})}},Z=()=>{z("/inviteDetail")},$=async(s,a)=>{if(1==s)z("/checkin");else if(1!=a.type){if(n("web_app_open_link",{url:a.value,try_instant_view:!0}),a.completed)return;const[s]=await K(c,{taskId:a.id});200===(null==s?void 0:s.code)&&J()}else{a.status=1;const s=D.map((s=>s.id===a.id?{...s,...a}:s));F(s),n("web_app_open_tg_link",{path_full:"/"+a.value.replace("@","")})}},ss=()=>{J()};return i.useActivate((()=>{ss()})),a.useEffect((()=>{ss()}),[]),a.useEffect((()=>{V()}),[D]),t.jsxs("div",{className:"warp",children:[t.jsxs("div",{className:"content",children:[t.jsxs("div",{className:T,children:[t.jsx("div",{className:b,children:t.jsx(m,{className:S,src:p,placeholder:t.jsx(_.Paragraph,{style:{width:"100%"}}),onClick:()=>{Z()},style:{borderRadius:10}})}),t.jsx("div",{className:I,onClick:()=>{Z()},children:t.jsx("span",{className:Q,children:H("regular_tasks_invite_btn")})})]}),t.jsxs("div",{className:C,children:[t.jsxs("div",{children:[t.jsx("span",{className:P,children:H("regular_tasks_daily_title")}),t.jsx("div",{className:"mt-10"}),X.map(((s,a)=>t.jsxs("div",{children:[t.jsxs("div",{className:q,onClick:()=>$(1,s),children:[t.jsxs("div",{className:E,children:[V(s),t.jsxs("div",{className:B,children:[t.jsx("span",{className:M,children:s.title}),t.jsxs("div",{className:E,children:[t.jsx(m,{src:u,placeholder:t.jsx(_.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:G,children:s.amount})]})]})]}),O(s,1)]}),t.jsx("div",{className:"mt-16"})]},a)))]}),t.jsxs("div",{children:[t.jsx("span",{className:P,children:H("regular_tasks_explore_title")}),t.jsx("div",{className:"mt-10"}),null==D?t.jsx(_.Paragraph,{lineCount:5,animated:!0}):D.map(((s,a)=>{return t.jsxs("div",{children:[t.jsxs("div",{className:q,onClick:a=>{a.stopPropagation(),$(2,s)},children:[t.jsxs("div",{className:E,children:[V(s),t.jsxs("div",{className:B,children:[t.jsx("span",{className:M,children:s.title}),t.jsxs("div",{className:E,children:[t.jsx(m,{src:(e=s.tokenSymbol,"TGT"==e?u:"USDT"==e?g:"TON"==e?v:"NOT"==e?f:"STON"==e?A:"NIKO"==e?N:"DOGS"==e?w:"X"==e?k:void 0),placeholder:t.jsx(_.Paragraph,{style:{width:"100%"}}),width:14}),t.jsx("span",{className:G,children:s.amount})]})]})]}),O(s,2)]}),t.jsx("div",{className:"mt-16"})]},a);var e})),0==(null==D?void 0:D.length)?t.jsx(d,{description:"Cooking"}):null]})]})]}),t.jsx("div",{className:"footer",children:t.jsx(o,{})})]})}));export{z as default};
